# This is a sample makefile that can be used to compile programs using 
# an installed version of NTL.
# Using this ensures that your programs compile with flags consistent
# with the build, and link to the right libraries.
#
# The basic functionality provided by this makefile is to allow
# you to compile 'foo.cpp' into the executable file 'foo' by executing
#    make foo   
# You can adapt this to the needs of your own project as necessary.


.cpp:
	g++ -I/usr/local/include   -O3 -fPIC -std=c++17 -pthread -march=native  $< -o $@  -L/usr/local/lib   -lntl   -lgmp    -lgf2x  -lm

# ntl was installed as a static library with dependencies: gmp gf2x

# COMPILER OPTIONS
# "-I/usr/local/include" ensures ntl header files found at compile time
# "-pthread" enables multi-threading (also needed for linking)
# "-march=native" targets compilation to the native instruction set
# "$<" expands to "foo.cpp" when run as "make foo"

# LINKER OPTIONS
# "-o $@" expands to "-o foo" when run as "make foo"
# "-L/usr/local/lib" ensures ntl is found at link time
# "-lntl" ensures that program will link to ntl
