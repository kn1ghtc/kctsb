# KCTSB v4.0.0 Release Notes

**Release Date**: 2025-01-15 (UTC+8)  
**Git Commit**: 94f8b78

## üéØ Major Changes

### NTL Source Code Migration
This release removes the external NTL library dependency by integrating NTL source code directly into kctsb. This provides:

1. **Self-contained Build**: No need to install NTL separately
2. **Better Integration**: All NTL symbols renamed to kctsb namespace
3. **Optimized Footprint**: Only required modules included

### Key Migration Details

- **Source Files**: 76 cpp files migrated to `src/math/bignum/`
- **Header Files**: 117 headers migrated to `include/kctsb/math/bignum/`
- **Macro Renames**: All `NTL_*` macros changed to `KCTSB_*`
- **Namespace Change**: `NTL::` ‚Üí `kctsb::`

### Dependency Chain
```
kctsb/math/bignum (was NTL)
    ‚îî‚îÄ‚îÄ GMP 6.3.0 (low-level integer arithmetic)
         ‚îî‚îÄ‚îÄ gf2x 1.3.0 (GF(2)[x] polynomial operations)
```

## üì¶ Dependencies

| Dependency | Version | Type | Notes |
|------------|---------|------|-------|
| GMP | 6.3.0+ | Required | thirdparty/ source build |
| gf2x | 1.3.0+ | Required | thirdparty/ source build |
| SEAL | 4.1.2 | Optional | Homomorphic encryption |

## üîß Build Instructions

```powershell
cd D:\pyproject\kctsb

# Configure
cmake -B build -G "MinGW Makefiles" `
    -DCMAKE_BUILD_TYPE=Release `
    -DKCTSB_BUILD_TESTS=ON `
    -DKCTSB_BUILD_CLI=ON

# Build
cmake --build build --parallel

# Test
ctest --test-dir build --output-on-failure
```

## ‚úÖ Test Results

- **Initial**: 160/167 tests passing (96%)
- **Note**: Some GF2X include path issues fixed in v4.0.1

## ‚ö†Ô∏è Known Issues

1. GF2X include path conflict with system headers - fixed in v4.0.1
2. SM2 tests failing due to nail bits configuration mismatch - fixed in v4.0.1

---

## üìã File Changes Summary

### New Directories
- `src/math/bignum/` - NTL source integration
- `include/kctsb/math/bignum/` - NTL headers

### Modified Files
- `CMakeLists.txt` - Added bignum source files
- All cryptographic modules updated to use `kctsb::` namespace

### Removed Dependencies
- `deps/ntl-11.6.0/` no longer required for runtime

---
*KCTSB - Knight's Cryptography & Security Toolbox*
